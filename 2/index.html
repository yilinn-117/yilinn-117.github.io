<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 2: Fun with Filters and Frequencies!</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #333;
            color: white;
            padding: 10px 0;
            text-align: center;
        }
        h1 {
            margin: 0;
            font-size: 36px;
        }
        section {
            margin: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
        }
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(5, 1fr); 
            gap: 6px; 
        }


        .image-gallery img {
            width: 100%; 
            height: auto; 
            display: block;
        }

        .image-container {
            display: flex;
            flex-wrap: wrap;
            text-align: center;
            width: 100%;
            gap: 5px;
        }
        .image-container img {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
        .image-container figcaption {
            margin-top: 5px;
            font-style: italic;
        }
        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 10px 0;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<header>
    <h1>Project 2</h1>
</header>
    
<section>
    <h2>Part 1: Fun with Filters</h2>
    <h3>Part 1.1: Finite Difference Operator</h3>
    <div class="image-gallery">
        <figure class="image-container">
            <img src="./1.1/output.png" alt="Original">
            <figcaption>Original</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.1/cameraman_Dx.png" alt="D_x">
            <figcaption>D_x</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.1/cameraman_Dy.png" alt="D_y">
            <figcaption>D_y</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.1/gradient_magnitude.png" alt="D_y">
            <figcaption>Gradient Magnitude</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.1/edge.png" alt="D_y">
            <figcaption>Edge</figcaption>
        </figure>
    </div>
    <p>
        The gradient is a vector consisting of partial derivatives, we calculate the magnitude by 
        taking square root of the sum of the squared x partial derivative and squared y partial derivative. (since this is 2 dimension)
    </p>
    <p>
        While a clear edge image could be shown, there are many gaps between the edge.
    </p>

    <h3>Part 1.2: Derivative of Gaussian (DoG) Filter</h3>
    <div class="image-gallery">
        <figure class="image-container">
            <img src="./1.2/D_x.png" alt="Original">
            <figcaption>Blurred D_x</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.2/Dy.png" alt="D_x">
            <figcaption>Blurred D_y</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.2/magnitude.png" alt="D_y">
            <figcaption>Blurred Magnitude</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./1.2/edge.png" alt="D_y">
            <figcaption>Edge</figcaption>
        </figure>
        <figure class="image-container"></figure>
            <img src="./1.2/DoGedge.png" alt="D_y">
            <figcaption>DoG Edge</figcaption>
        </figure>
    </div>
    <p>
        We could see that the edge is a lot smoother in the gradient image. 
        As a result, the edge image performs better (less gap in between) with curated threshold.
        Also, we recognize that the edge image generated from 
        blurring the original then convolve is identical to the edge image genereated by 
        convolve the gaussian kernel then convolve, proving that convolution has same property as multiply.
    </p>
</section>


<section>
    <h2>Part 2: Fun with Frequencies!</h2>
    <h3>Part 2.1: Image "Sharpening"</h3>
    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.1/taj.png" alt="Original">
            <figcaption>Original</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/taj_blur.png" alt="Original">
            <figcaption>Taj without high freq</figcaption>
        </figure>
        <figure class="image-container"></figure>
            <img src="./2.1/taj_high_freq.png" alt="Original">
            <figcaption>the high freq</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/sharp_taj.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>Sharped Taj (blurred + 3 * high freq)</figcaption>
        </figure>
    </div>

    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.1/phantom.png" alt="Original">
            <figcaption>Phantom</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/phantom_blur.png" alt="Original">
            <figcaption>Phantom without high freq</figcaption>
        </figure>
        <figure class="image-container"></figure>
            <img src="./2.1/phantom_high_freq.png" alt="Original">
            <figcaption>the high freq</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/sharp_phantom.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>Sharped Phantom (blurred + 3 * high freq)</figcaption>
        </figure>
    </div>

    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.1/countach.png" alt="Original">
            <figcaption>Countach</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/countach_blur.png" alt="Original">
            <figcaption>Countach without high freq</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/sharp_countach.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>Sharped Countach (blurred + 3 * high freq)</figcaption>
        </figure>
    </div>

    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.1/i7.png" alt="Original">
            <figcaption>i7</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/i7_blur.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>i7 without high freq</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/sharp_i7.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>Sharped i7 (blurred + 3 * high freq)</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/blur_sharp_i7.png" alt="Original">
            <figcaption>Sharped i7 without high freq</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.1/extra_sharp_i7.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>Twice Sharped i7 (blurred + 6 * high freq)</figcaption>
        </figure>
    </div>
    <p>Compare the original and the sharpened images, we could see that the fine details 
        of each car is strengthened in sharpened images, those include the grill, vague shadow
        of branches on glass,and small area reflection of protrude parts.
    </p>
    <p>When sharpen the sharped already image of BMW i7, we could see that during the blur step 
        (Sharped i7 without high freq)
        , the image resembles the original image. After the second sharpen is applied, 
        it seems like all the strokes on the car has been amplified, making it seem unreal.
    </p>

    <h3>Part 2.2: Hybrid Images</h3>
    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.2/nutmeg.jpg" alt="Original">
            <figcaption>high freq input</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.2/DerekPicture.jpg" alt="Offset: r[90,22], g[40,16]">
            <figcaption>low freq input</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.2/derek.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>result</figcaption>
        </figure>
    </div>
    <img src="./2.2/freq.png" alt="My Image" width="1000" height="300">
 
    <p> From the fourier transform above, we could see that the the filtered high freq input is 
        got strengthened for its non-vertial and non-horizontal frequencies, those are the detail on nutmeg's face,
        the filtered low freq input is reduced to mostly horizontal and vertical, constructing the 
        basic structure of the hybrid image. The final hybrid image is just as we could predict from the 
        fourier analysis: the fine detail of nutmeg's face, its mustache and facial hair is prominant 
        when looked closely, and the underlying structure of Derek's face could be seen from afar.
    </p>

    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.2/Laf.jpg" alt="Original">
            <figcaption>high freq input</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.2/p1.jpg" alt="Offset: r[90,22], g[40,16]">
            <figcaption>low freq input</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.2/car_hybrid.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>result</figcaption>
        </figure>
    </div>
    <p> This is the hybrid picture of two cars: ferrari laferrari and mclaren p1, I assume
        this is a successful example as looking close we could see the high freq input clearly
        (the ferrari) and barely sees the low freq input, and vice versa when look from afar.
        I think this good hybrid is due to I chose two cars with similar structure (both are sport cars)
        and they are of similar color (black glass, red-ish/black paint).
    </p>

    <div class="image-gallery">
        <figure class="image-container">
            <img src="./2.2/EyeRoll.png" alt="Original">
            <figcaption>high freq input</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.2/TearsofJoy.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>low freq input</figcaption>
        </figure>
        <figure class="image-container">
            <img src="./2.2/emoji_hybrid.png" alt="Offset: r[90,22], g[40,16]">
            <figcaption>result</figcaption>
        </figure>
    </div>

    <p> This is the hybrid picture of two emojis: eyeroll and tears of joy, I assume
        this is a failed example as both of the high and low frequencies are present no matter
        obversed from what distance. I think this is due to the big structural difference 
        between the two emojis, while the background is a big yellow circle, their eyes and 
        mouth vary vastly in color, shape and angle. The edges are also very abrupt in those two
        emojis, making both emoji present even with filtering.
    </p>
    <h3>Part 2.3: Gaussian and Laplacian Stacks</h3>
    <figure>
        <img src="./2.3/stack.png" alt="My Image" width="670" height="1000">
        <figcaption>Laplacian Stack Detail</figcaption>
    </figure>
    <figure>
        <img src="./2.3/final.png" alt="My Image" width="450" height="300">
        <figcaption>Final result: oraple</figcaption>
    </figure>
    <h3>Part 2.4: Multiresolution Blending</h3>
    <figure></figure>
        <img src="./2.4/blending_car.png" alt="My Image" width="550" height="300">
        <figcaption>From the two car pictures above</figcaption>
    </figure>
    <figure></figure>
        <img src="./2.4/hand_nose.png" alt="My Image" width="400" height="300">
        <figcaption>A circular mask</figcaption>
    </figure>
    <p>
        The car blending worked well. However, I couldn't find a way to do smooth mask for the ciruclar mask, hence the hand_nose blending
        looks pretty bad with the circular seam at the middle.
    </p>
</section>

<section>
    <h2>Conclusion</h2>
    <p>
        From this project, we could see that multiresolution blending is quite a strong tool,
        the final output image is almost flawless. The laplacian stack is good at hybriding two images,
        which could be resonablely infered that it could be used to mix sounds. When detecting 
        gradients, applying a gaussian filter could significantly reduce the noise in final output.
        Oversharpening an image does not make it clear, but makes it look unreal instead.
    </p>
</section>


<footer>
    <p>&copy; Yilin Ni's Project 2</p>
</footer>

</body>
</html>
